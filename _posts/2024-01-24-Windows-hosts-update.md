---
layout: single
title:  "[Server] 서버이전 후 hosts파일 수정하는 이유?"
typora-root-url: ../
---



# ✏️hosts 파일이란?

Windosw의 hosts 파일은 호스트 이름과 IP 주소 간의 매핑 정보를 지정하는 운영체제의 설정 파일이다.
이 파일을 사용하여 특정 도메인 이름을 직접 지정된 IP 주소로 해석하도록 설정할 수 있는데
이는 일종의 로컬 DNS 매핑을 제공하여 특정 도메인을 특정 IP 주소로 해석하도록 강제할 수 있도록 하는 방법이다. 

서버를 새로 바꾼 후 새 서버의 IP 주소를 해당 도메인과 매핑하려면 hosts 파일을 수정해야 하는데, 
예를 들어 만약 "example.com"이라는 도메인을 새 서버의 IP 주소로 연결하려면 다음과 같이 hosts 파일을 수정할 수 있다.



#### **호스트 파일 수정하는 방법** 


1. 호스트 파일 찾기 및 열기 
  C:\Windows\System32\drivers\etc\hosts 
  호스트 파일을 관리자 권한으로 실행 > 편집기로 열어서 수정해야 함.

2. 호스트 파일 편집
  호스트 파일에는 각 줄에 IP 주소와 호스트 이름이 공백으로 구분되어 있다.
  ex ) 203.0.113.10   example.com
  왼쪽은 새 서버의 실제 IP 주소이고, "example.com"은 새로 설정하려는 도메인이다.

3. 저장 및 종료
  파일을 저장한 후에 편집기를 종료하면 끝.

  

이렇게 수정하면 해당 도메인에 대한 요청은 로컬시스템에서 설정한 IP주소로 전송된다. 
이는 특정 도메인을 임시로 새 서버로 라우팅하고자할 때 유용하지만 로컬 시스템에만 영향을 미치며 외부에서는 변경되지 않기때문에
실제로 도메인을 변경하려면 DNS 레코드를 새로운 서버 IP주소로 업데이트 해야 한다.



#### **서버 이전 후에 hosts 파일을 수정하는 이유는?**

DNS(Domain Name System)의 캐시 문제를 우회하고 빠르게 도메인이 새 서버로 연결되도록 하는 것이 주목적이다.
DNS는 도메인 이름을 IP주소로 해석하는 역할을 한다. 즉, 사용자가 특정 도메인을 방문하면 브라우저나 운영체제는 DNS 서버에 해당 도메인의 IP주소를 물어보면 이때 얻은 IP주소를 이용하여 실제 서버에 접속하게 되는 것이다.

**서버를 이전하면 기존 DNS 캐시에는 이전 서버의 IP주소가 남아 있을 수 있기 때문에 새 서버로의 빠른 연결이 어려울 수 있다.** 

그래서 hosts 파일을 수정하면 로컬 시스템에서 직접 도메인과 IP주소를 매핑함으로써 DNS 서버를 우회하고, 빠르게 새로운 서버로 연결할 수 있는 것이다. 

⚠️주의할 점은 이 작업은 로컬 시스템에만 영향을 미치며 다른 사용자나 외부에서는 변경이 반영되지 않는다는 것.
전체적인 DNS 레코드 업데이트가 완료되면 해당 작업은 필요없어지며 일정 시간이 지난 후에는 DNS 변경이 전파되어 모든 사용자가 새 서버로 연결될 것이다.



#### **DNS 서버 (Domain Name System Server) ?**

DNS 서버는 도메인 이름을 해당 도메인에 대응하는 IP 주소로 변환하는 역할을 한다. 이 서버는 전 세계에 분산되어 있으며, 인터넷 사용자가 도메인 이름을 입력하면 해당 도메인에 대한 IP 주소를 찾아주는 역할을 하게 된다.



#### **DNS 레코드 (DNS Record) ?**

DNS 서버는 도메인에 대한 정보를 담고 있는 레코드를 가지고 있는데 이 레코드에는 도메인의 IP 주소, 메일 서버 정보 등이 포함되어 있다.